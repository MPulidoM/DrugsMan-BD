<!DOCTYPE html>
<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Pac-Man Game</title>
    <script src="https://cdn.jsdelivr.net/npm/@stomp/stompjs@5.0.0/bundles/stomp.umd.js"></script>
</head>
<body>
<script>
        let stompCliente = null;

        const onWebSocketClose = () => {
            if (stompCliente !== null) {
                stompCliente.deactivate();
            }
        };

        function connect() {
            stompCliente = new StompJs.Client({
            webSocketFactory: () => new WebSocket('ws://localhost:5000/pacman-websocket')
            });
            stompCliente.activate();
        }

        function sendCoordinates() {
            var xCoordinate = document.getElementById("xCoordinate").value;
            var yCoordinate = document.getElementById("yCoordinate").value;

            var move = {
                playerId: "player1",
                direction: 1
            };
            stompCliente.publish({
                destination: '/app/move',
                body: JSON.stringify({
                    CoordenadaX: xCoordinate,
                    CoordenadaY: yCoordinate
                })
            });
        }

        connect();
        // Lógica del juego y manejo de eventos
    </script>
    <!-- Botón para enviar coordenadas -->
    <label for="xCoordinate">X Coordinate:</label>
    <input type="text" id="xCoordinate" />
    <br />
    <label for="yCoordinate">Y Coordinate:</label>
    <input type="text" id="yCoordinate" />
    <br />
    <button onclick="sendCoordinates()">Enviar Coordenadas</button>
    <button onclick="connect()">Conectar</button>
</body>
</html>
